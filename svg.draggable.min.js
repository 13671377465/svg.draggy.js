// svg.draggable.js 0.2 - Copyright (c) 2013 Wout Fierens - Licensed under the MIT license
SVG.extend(SVG.Element,{draggable:function(){var e,t,n=this,r=this._parent(SVG.Nested)||this._parent(SVG.Doc);e=function(e){if(n.startEvent){var t={x:e.pageX-n.startEvent.pageX,y:e.pageY-n.startEvent.pageY};n.move(n.startPosition.x+t.x/n.startPosition.zoom,n.startPosition.y+t.y/n.startPosition.zoom);if(n.dragmove)n.dragmove(e,t)}};t=function(r){n.startEvent=null;n.startPosition=null;SVG.off(window,"mousemove",e);SVG.off(window,"mouseup",t);if(n.dragend)n.dragend(r)};this.on("mousedown",function(i){var s=n.bbox(),o=r.attr("viewBox"),u=r.attr("width");n.startEvent=i||window.event;n.startPosition={x:s.x,y:s.y,zoom:1};if(o!=null&&u!=null)n.startPosition.zoom=parseFloat(u)/parseFloat(o.split(" ")[2]);SVG.on(window,"mousemove",e);SVG.on(window,"mouseup",t);if(n.dragstart)n.dragstart(i)});return this}});